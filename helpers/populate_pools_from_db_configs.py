from typing import List, Dict
from pprint import pprint

from service.models import Pool

from helpers.preprocess_pools import (
    get_uniswap_v2_pool_weth, get_uniswap_v2_pool_usdc,
    get_uniswap_v3_pool_weth, get_uniswap_v3_pool_usdc,
    get_curve_pool,
)


def populate_tokens_configuration():
    items =\
        [{'_id': 'USDT',
        'address': '0xdAC17F958D2ee523a2206206994597C13D831ec7',
        'borrowing_enabled': True,
        'decimals': 6,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0x0d4a11d5EEaaC28EC3F61d100daF4d40471f1852',
        'uniswap_v3_pool_weth': '0x11b815efB8f581194ae79006d24E0d814B7697F6',
        'uniswap_v3_pool_usdc': '0x3416cF6C708Da44DB2624D63ea0AAef7113527C6',
        'uniswap_v2_pool_usdc': '0x3041CbD36888bECc7bbCBc0045E3B1f144466f5f',
        'curve_pool': '0xbEbc44782C7dB0a1A60Cb6fe97d0b483032FF1C7',
        'usage_as_collateral_enabled': False},
        {'_id': 'BTC',
        'address': '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599',
        'borrowing_enabled': True,
        'decimals': 8,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.05,
        'liquidation_threshold': 0.82,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xBb2b8038a1640196FbE3e38816F3e67Cba72D940',
        'uniswap_v3_pool_weth': '0x4585FE77225b41b697C938B018E2Ac67Ac5a20c0',
        'uniswap_v3_pool_usdc': '0x9a772018FbD77fcD2d25657e5C547BAfF3Fd7D16',
        'usage_as_collateral_enabled': True},
        {'_id': 'ETH',
        'address': '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.05,
        'liquidation_threshold': 0.86,
        'reserve_factor': 0.15,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640',
        'uniswap_v2_pool_usdc': '0xB4e16d0168e52d35CaCD2c6185b44281Ec28C9Dc',
        'usage_as_collateral_enabled': True},
        {'_id': 'YFI',
        'address': '0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.65,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x2fDbAdf3C4D5A8666Bc06645B8358ab803996E28',
        'uniswap_v3_pool_weth': '0x04916039B1f59D9745Bf6E0a21f191D1e0A84287',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'ZRX',
        'address': '0xE41d2489571d322189246DaFA5ebDe1F4699F498',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.65,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xc6F348dd3B91a56D117ec0071C1e9b83C0996De4',
        'uniswap_v3_pool_weth': '0x14424eEeCbfF345B38187d0B8b749E56FAA68539',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'UNI',
        'address': '0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.09,
        'liquidation_threshold': 0.77,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xd3d2E2692501A5c9Ca623199D38826e513033a17',
        'uniswap_v3_pool_weth': '0x1d42064Fc4Beb5F8aAF85F4617AE8b3b5B8Bd801',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'AAVE',
        'address': '0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.73,
        'reserve_factor': 0.0,
        'uniswap_v2_pool_weth': '0xDFC14d2Af169B0D36C4EFF567Ada9b2E0CAE044f',
        'uniswap_v3_pool_weth': '0x5aB53EE1d50eeF2C1DD3d5402789cd27bB52c1bB',
        'uniswap_v3_pool_usdc': '0xdceaf5d0E5E0dB9596A47C0c4120654e80B1d706',
        'usage_as_collateral_enabled': True},
        {'_id': 'BAT',
        'address': '0x0D8775F648430679A709E98d2b0Cb6250d2887EF',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.7,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xB6909B960DbbE7392D405429eB2b3649752b4838',
        'uniswap_v3_pool_weth': '0xAE614a7a56cB79c04Df2aeBA6f5dAB80A39CA78E',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'BUSD',
        'address': '0x4Fabb145d64652a948d72533023f6E7A623C7C53',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0xC2923b8a9683556A3640ccc2961B2F52B5C4459A',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x00cEf0386Ed94d738c8f8A74E8BFd0376926d24C',
        'curve_pool': '0x4807862AA8b2bF68830e4C8dc86D0e9A998e085a',
        'usage_as_collateral_enabled': False},
        {'_id': 'DAI',
        'address': '0x6B175474E89094C44Da98b954EedeAC495271d0F',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.04,
        'liquidation_threshold': 0.87,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0xA478c2975Ab1Ea89e8196811F51A7B7Ade33eB11',
        'uniswap_v3_pool_weth': '0x60594a405d53811d3BC4766596EFD80fd545A270',
        'uniswap_v3_pool_usdc': '0x5777d92f208679DB4b9778590Fa3CAB3aC9e2168',
        'uniswap_v2_pool_usdc': '0xAE461cA67B15dc8dc81CE7615e0320dA1A9aB8D5',
        'curve_pool': '0xbEbc44782C7dB0a1A60Cb6fe97d0b483032FF1C7',
        'usage_as_collateral_enabled': True},
        {'_id': 'ENJ',
        'address': '0xF629cBd94d3791C9250152BD8dfBDF380E2a3B9c',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.06,
        'liquidation_threshold': 0.67,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0xe16Be1798F860bC1EB0FEb64cD67Ca00AE9b6E58',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'KNC',
        'address': '0xdd974D5C2e2928deA5F71b9825b8b646686BD200',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.1,
        'liquidation_threshold': 0.7,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'LINK',
        'address': '0x514910771AF9Ca656af840dff83E8264EcF986CA',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.07,
        'liquidation_threshold': 0.83,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xa2107FA5B38d9bbd2C461D6EDf11B11A50F6b974',
        'uniswap_v3_pool_weth': '0xa6Cc3C2531FdaA6Ae1A3CA84c2855806728693e8',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'MANA',
        'address': '0x0F5D2fB29fb7d3CFeE444a200298f468908cC942',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.75,
        'reserve_factor': 0.35,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x8661aE7918C0115Af9e3691662f605e9c550dDc9',
        'uniswap_v3_pool_usdc': '0xaB957E5AC4571a98A7Bb5400B797ca80fF428298',
        'usage_as_collateral_enabled': True},
        {'_id': 'MKR',
        'address': '0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.67,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xC2aDdA861F89bBB333c90c492cB837741916A225',
        'uniswap_v3_pool_weth': '0xe8c6c9227491C0a8156A0106A0204d881BB7E531',
        'uniswap_v3_pool_usdc': '0xC486Ad2764D55C7dc033487D634195d6e4A6917E',
        'usage_as_collateral_enabled': True},
        {'_id': 'REN',
        'address': '0x408e41876cCCDC0F92210600ef50372656052a38',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.6,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x5A332599613C9460Efd8a71a4b5de1Aa5a005CFd',
        'uniswap_v3_pool_usdc': '0x8dD240195b2cD7c0A118166cba02512F52e9E360',
        'usage_as_collateral_enabled': True},
        {'_id': 'SNX',
        'address': '0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.62,
        'reserve_factor': 0.35,
        'uniswap_v2_pool_weth': '0x43AE24960e5534731Fc831386c07755A2dc33D47',
        'uniswap_v3_pool_weth': '0xf5ce0293C24FD0990E0a5758E53f66a36cA0118f',
        'uniswap_v3_pool_usdc': '0x020C349A0541D76C16F501Abc6B2E9c98AdAe892',
        'usage_as_collateral_enabled': True},
        {'_id': 'sUSD',
        'address': '0x57Ab1ec28D129707052df4dF418D58a2D46d5f51',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xf80758ab42c3b07da84053fd88804bcb6baa4b5c',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x6a9850E46518231B23e50467c975Fa94026BE5d5',
        'curve_pool': '0xA5407eAE9Ba41422680e2e00537571bcC53efBfD',
        'usage_as_collateral_enabled': False},
        {'_id': 'TUSD',
        'address': '0x0000000000085d4780B73119b644AE5ecd22b376',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.05,
        'liquidation_threshold': 0.825,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0xb4d0d9df2738abE81b87b66c80851292492D1404',
        'uniswap_v3_pool_weth': '0x714b8443D0ADA18eCE1fcE5702567e313bfa8f29',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'curve_pool': '0xecd5e75afb02efa118af914515d6521aabd189f1',
        'usage_as_collateral_enabled': True},
        {'_id': 'USDC',
        'address': '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
        'borrowing_enabled': True,
        'decimals': 6,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.045,
        'liquidation_threshold': 0.8750,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0xB4e16d0168e52d35CaCD2c6185b44281Ec28C9Dc',
        'uniswap_v3_pool_weth': '0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'CRV',
        'address': '0xD533a949740bb3306d119CC777fa900bA034cd52',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.08,
        'liquidation_threshold': 0.58,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x3dA1313aE46132A397D90d95B1424A9A7e3e0fCE',
        'uniswap_v3_pool_weth': '0x919Fa96e88d67499339577Fa202345436bcDaf79',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'GUSD',
        'address': '0x056Fd409E1d7A124BD7017459dFEa2F387b6d5Cd',
        'borrowing_enabled': True,
        'decimals': 2,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0x61247D8aCa1C485A50728E1336d9b26c8339e701',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x93f267fD92B432BeBf4dA4E13B8615Bb8Eb2095C',
        'curve_pool': '0x4f062658EaAF2C1ccf8C8e36D6824CDf41167956',
        'usage_as_collateral_enabled': False},
        {'_id': 'BAL',
        'address': '0xba100000625a3754423978a60c9317c58a424e3D',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.08,
        'liquidation_threshold': 0.7,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xa70d458a4d9bc0e6571565faee18a48da5c0d593',
        'uniswap_v3_pool_weth': '0xDC2c21F1B54dDaF39e944689a8f90cb844135cc9',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'xSUSHI',
        'address': '0x8798249c2E607446EfB7Ad49eC89dD1865Ff4272',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.085,
        'liquidation_threshold': 0.65,
        'reserve_factor': 0.35,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'FIL',
        'address': '0xD5147bc8e386d91Cc5DBE72099DAC6C9b99276F5',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.35,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': False},
        {'_id': 'RAI',
        'address': '0x03ab458634910AaD20eF5f1C8ee96F1D6ac54919',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': False},
        {'_id': 'AMPL',
        'address': '0xD46bA6D942050d489DBd938a2C909A5d5039A161',
        'borrowing_enabled': True,
        'decimals': 9,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': False},
        {'_id': 'USDP',
        'address': '0x8E870D67F660D95d5be530380D0eC0bd388289E1',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0x598e7A017dAce2534Bc3F7496124C89425b1E165',
        'uniswap_v3_pool_weth': '0xD83D78108DD0d1dfffF11EA3F99871671a52488b',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'curve_pool': '0xc270b3B858c335B6BA5D5b10e2Da8a09976005ad',
        'usage_as_collateral_enabled': False},
        {'_id': 'DPI',
        'address': '0x1494CA1F11D487c2bBe4543E90080AeBa4BA3C2b',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.075,
        'liquidation_threshold': 0.7,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x4d5ef58aAc27d99935E5b6B4A6778ff292059991',
        'uniswap_v3_pool_weth': '0x9359c87B38DD25192c5f2b07b351ac91C90E6ca7',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'FRAX',
        'address': '0x853d955aCEf822Db058eb8505911ED77F175b99e',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0xFD0A40Bc83C5faE4203DEc7e5929B446b07d1C76',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x9A834b70C07C81a9fcD6F22E842BF002fBfFbe4D',
        'curve_pool': '0xDcEF968d416a41Cdac0ED8702fAC8128A64241A2',
        'usage_as_collateral_enabled': False},
        {'_id': 'FEI',
        'address': '0x956F47F50A910163D8BF957Cf5846D573E7f87CA',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.065,
        'liquidation_threshold': 0.75,
        'reserve_factor': 0.99,
        'uniswap_v2_pool_weth': '0x94B0A3d511b6EcDb17eBF877278Ab030acb0A878',
        'uniswap_v3_pool_weth': '0x2028D7Ef0223C45caDBF05E13F1823c1228012BF',
        'uniswap_v3_pool_usdc': '0xdf50Fbde8180c8785842C8E316EBe06F542D3443',
        'usage_as_collateral_enabled': True},
        {'_id': 'stETH',
        'address': '0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.07,
        'liquidation_threshold': 0.83,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0x4028DAAC072e492d34a3Afdbef0ba7e35D8b55C4',
        'uniswap_v3_pool_weth': '0x63818BbDd21E69bE108A23aC1E84cBf66399Bd7D',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'ENS',
        'address': '0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.08,
        'liquidation_threshold': 0.57,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': True},
        {'_id': 'UST',
        'address': '0xa693B19d2931d498c5B318dF961919BB4aee87a5',
        'borrowing_enabled': True,
        'decimals': 6,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'usage_as_collateral_enabled': False},
        {'_id': 'CVX',
        'address': '0x4e3FBD56CD56c3e72c1403e103b45Db9da5B9D2B',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': True,
        'liquidation_bonus': 1.085,
        'liquidation_threshold': 0.45,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x2E4784446A0a06dF3D1A040b03e1680Ee266c35a',
        'uniswap_v3_pool_usdc': '0x3Df6Bb62348D786A50b635b638fF99D850f98211',
        'usage_as_collateral_enabled': True},
        {'_id': '1INCH',
        'address': '0x111111111117dC0aa78b770fA6A738034120C302',
        'borrowing_enabled': False,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 1.085,
        'liquidation_threshold': 0.5,
        'reserve_factor': 0.2,
        'uniswap_v2_pool_weth': '0x26aAd2da94C59524ac0D93F6D6Cbf9071d7086f2',
        'uniswap_v3_pool_weth': '0xd35EFAE4097d005720608Eaf37E42a5936C94B44',
        'uniswap_v3_pool_usdc': '0x9feBc984504356225405e26833608b17719c82Ae',
        'usage_as_collateral_enabled': True},
        {'_id': 'LUSD',
        'address': '0x5f98805A4E8be255a32880FDeC7F6728C6568bA0',
        'borrowing_enabled': True,
        'decimals': 18,
        'is_active': True,
        'is_frozen': False,
        'liquidation_bonus': 0.0,
        'liquidation_threshold': 0.0,
        'reserve_factor': 0.1,
        'uniswap_v2_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_weth': '0x0000000000000000000000000000000000000000',
        'uniswap_v3_pool_usdc': '0x0000000000000000000000000000000000000000',
        'curve_pool': '0xEd279fDD11cA84bEef15AF5D39BB4d4bEE23F0cA',
        'usage_as_collateral_enabled': False}]
    return items

def get_pools(item) -> List[Pool]:
    pools: List[Pool] = []

    for func, args in [
        (get_uniswap_v2_pool_usdc, item.get('uniswap_v2_pool_usdc')),
        (get_uniswap_v3_pool_usdc, item.get('uniswap_v3_pool_usdc')),
        (get_uniswap_v2_pool_weth, item.get('uniswap_v2_pool_weth')),
        (get_uniswap_v3_pool_weth, item.get('uniswap_v3_pool_weth')),
    ]:
        try:
            print(f'func: {func.__name__}, args: {args}')
            if args[-1] is not None and args[-1] != '0x0000000000000000000000000000000000000000':
                pool = func(args)
                pools.append(pool)
            else:
                continue
            print('Finish')
        except Exception as e:
            print(func.__name__, e)
            continue

    address = item.get('curve_pool')
    if address is not None and address != '0x0000000000000000000000000000000000000000':
        try:
            print(f'get_curve_pool: {address}')
            pool = get_curve_pool(item['_id'], address)
            pools.append(pool)
            print('Finish')
        except Exception as e:
            print('get_curve_pool', e)

    return pools


if __name__ == '__main__':
    pools_all: Dict[str, Pool] = {}

    for item in populate_tokens_configuration():
        try:
            print('symbol: ', item['_id'])
            pools = get_pools(item)
            print(len(pools), 'pools')
            pools_all[item['_id']] = pools
        except Exception as e:
            print(e)
            continue
    pprint(pools_all)
